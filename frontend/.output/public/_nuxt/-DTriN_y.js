import oe from"./CLsrxzl_.js";import ae from"./C0LKiM39.js";import te from"./ChVfpdSc.js";import Q from"./UEL7mprB.js";import W from"./Dw3xtoWV.js";import{s as H,r as t,f as R,o as ee,g as le,w as B,b as r,a as e,h as l,i as v,t as J,u as se,d as ne}from"./DaYTUSRu.js";import{u as Y}from"./zX31c0Ks.js";import{u as G}from"./8wGpG1ui.js";import{u as X}from"./CD1nq2RT.js";import{a as K}from"./CBeCEV4t.js";const ie=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Floor Details")],-1),ue={class:"flex flex-col gap-3"},re={class:"flex flex-col gap-2"},de=e("label",{for:"currentBlock"},"Block",-1),ce={class:"flex flex-1 flex-col gap-2"},me=e("label",{for:"desc"},"Name",-1),ve={class:"flex gap-3"},pe={class:"flex flex-1 flex-col gap-2"},fe=e("label",{for:"numberOfHighArea"},"Number of High Area",-1),_e={class:"flex flex-1 flex-col gap-2"},be=e("label",{for:"publicArea"},"Public Area",-1),xe={class:"flex gap-3"},ge={class:"flex flex-1 flex-col gap-2"},Ve=e("label",{for:"totalArea"},"Total Area",-1),$e={class:"flex flex-1 flex-col gap-2"},ye=e("label",{for:"progress"},"Progress",-1),he={class:"flex flex-row gap-3 justify-between"},we={class:"text-xs text-gray-400"},Ae={class:"text-xs text-gray-400"},hl={__name:"ViewDetailsFloorDialog",props:["visible"],async setup(L){var F,T,P,Z,E,O;let _,p;const{visible:j}=L,{zones:x}=H(Y()),{getZones:U}=Y(),{blocks:b}=H(G()),{getBlocks:I}=G(),{currentFloor:c}=H(X()),w=t(j);[_,p]=R(()=>U()),await _,p(),[_,p]=R(()=>I()),await _,p();const g=t(c.value.number_of_high_area),f=t(c.value.public_area),V=t(c.value.total_area),$=t(c.value.progress),y=t(c.value.desc),C=t(c.value.created_at),S=t(c.value.updated_at);x.value=x.value.map(d=>({id:d.id,name:`${d.name}`,value:`${d.id}`}));const A=t(x.value),k=t({name:((F=A.value[0])==null?void 0:F.name)??"",value:((T=A.value[0])==null?void 0:T.value)??""});b.value=b.value.map(d=>({id:d.id,name:`${d.desc}`,value:`${d.id}`,zone_id:`${d.zone_id}`}));const D=t(b.value.filter(d=>d.zone_id==k.value.value)),z=t({name:((Z=(P=D.value.filter(d=>d.zone_id==k.value.value))==null?void 0:P[0])==null?void 0:Z.name)??"",value:((O=(E=D.value.filter(d=>d.zone_id==k.value.value))==null?void 0:E[0])==null?void 0:O.value)??""});return(d,o)=>{const n=oe,N=ae,s=te,a=Q,h=W;return ee(),le(h,{visible:l(w),"onUpdate:visible":o[7]||(o[7]=u=>v(w)?w.value=u:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:B(()=>[ie]),footer:B(()=>[r(a,{type:"button",label:"Close",onClick:o[6]||(o[6]=u=>w.value=!1)})]),default:B(()=>[e("template",ue,[e("div",re,[de,r(n,{id:"currentBlock",placeholder:"Select block",modelValue:l(z).value,"onUpdate:modelValue":o[0]||(o[0]=u=>l(z).value=u),options:l(D),optionLabel:"name",optionValue:"value",disabled:""},null,8,["modelValue","options"])]),e("div",ce,[me,r(N,{id:"desc",modelValue:l(y),"onUpdate:modelValue":o[1]||(o[1]=u=>v(y)?y.value=u:null),disabled:""},null,8,["modelValue"])]),e("div",ve,[e("div",pe,[fe,r(s,{id:"numberOfHighArea",modelValue:l(g),"onUpdate:modelValue":o[2]||(o[2]=u=>v(g)?g.value=u:null),disabled:""},null,8,["modelValue"])]),e("div",_e,[be,r(s,{id:"publicArea",modelValue:l(f),"onUpdate:modelValue":o[3]||(o[3]=u=>v(f)?f.value=u:null),disabled:""},null,8,["modelValue"])])]),e("div",xe,[e("div",ge,[Ve,r(s,{id:"totalArea",modelValue:l(V),"onUpdate:modelValue":o[4]||(o[4]=u=>v(V)?V.value=u:null),disabled:""},null,8,["modelValue"])]),e("div",$e,[ye,r(s,{id:"progress",modelValue:l($),"onUpdate:modelValue":o[5]||(o[5]=u=>v($)?$.value=u:null),prefix:"%",disabled:""},null,8,["modelValue"])])]),e("div",he,[e("span",we," Created at: "+J(("convertDateTime"in d?d.convertDateTime:l(K))(l(C))),1),e("span",Ae," Updated at: "+J(("convertDateTime"in d?d.convertDateTime:l(K))(l(S))),1)])])]),_:1},8,["visible"])}}},ke=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Create New Floor")],-1),De={class:"flex flex-col gap-3"},ze={class:"flex flex-col gap-2"},Fe=e("label",{for:"currentZone"},"Zone",-1),Be={class:"flex flex-col gap-2"},Ue=e("label",{for:"currentBlock"},"Block",-1),Ce={class:"flex flex-1 flex-col gap-2"},Se=e("label",{for:"desc"},"Name",-1),Te={class:"flex gap-3"},Ne={class:"flex flex-1 flex-col gap-2"},Ie=e("label",{for:"numberOfHighArea"},"Number of High Area",-1),He={class:"flex flex-1 flex-col gap-2"},Ze=e("label",{for:"publicArea"},"Public Area",-1),Ee={class:"flex gap-3"},Oe={class:"flex flex-1 flex-col gap-2"},Le=e("label",{for:"totalArea"},"Total Area",-1),je={class:"flex flex-1 flex-col gap-2"},Pe=e("label",{for:"progress"},"Progress",-1),wl={__name:"CreateFloorDialog",props:["visible"],async setup(L){var T,P,Z,E,O,d;let _,p;const{visible:j}=L,{zones:x}=H(Y()),{getZones:U}=Y(),{blocks:b}=H(G()),{getBlocks:I}=G(),{addNewFloor:c}=X(),w=se();[_,p]=R(()=>U()),await _,p(),[_,p]=R(()=>I()),await _,p();const g=t(j),f=t(0),V=t(0),$=t(0),y=t(0),C=t("");x.value=x.value.map(o=>({id:o.id,name:`${o.name}`,value:`${o.id}`}));const S=t(x.value),A=t({name:((T=S.value[0])==null?void 0:T.name)??"",value:((P=S.value[0])==null?void 0:P.value)??""});b.value=b.value.map(o=>({id:o.id,name:`${o.desc}`,value:`${o.id}`,zone_id:`${o.zone_id}`}));const k=t(b.value.filter(o=>o.zone_id==A.value.value)),D=t({name:((E=(Z=k.value.filter(o=>o.zone_id==A.value.value))==null?void 0:Z[0])==null?void 0:E.name)??"",value:((d=(O=k.value.filter(o=>o.zone_id==A.value.value))==null?void 0:O[0])==null?void 0:d.value)??""}),z=async()=>{const o={id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,block_id:parseInt(D.value.value),number_of_high_area:parseInt(f.value),public_area:parseInt(V.value),total_area:parseInt($.value),progress:parseInt(y.value),desc:C.value,deleted:"false",created_by:13,updated_by:13,created_at:new Date().toLocaleString(),updated_at:null},n=await c(o);g.value=!1,n!=null&&n.result=="ok"?w.add({severity:"success",summary:"Success",detail:"Create New Floor Successfully!",group:"bl",life:3e3}):w.add({severity:"danger",summary:"Error",detail:"Failed to Create New Floor",group:"bl",life:3e3})},F=(o,n)=>{var N,s,a,h;n=="zone"&&(k.value=b.value.filter(u=>u.zone_id==o.value),D.value={name:((s=(N=k.value.filter(u=>u.zone_id==A.value.value))==null?void 0:N[0])==null?void 0:s.name)??"",value:((h=(a=k.value.filter(u=>u.zone_id==A.value.value))==null?void 0:a[0])==null?void 0:h.value)??""})};return(o,n)=>{const N=oe,s=ae,a=te,h=Q,u=W;return ee(),le(u,{visible:l(g),"onUpdate:visible":n[10]||(n[10]=i=>v(g)?g.value=i:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:B(()=>[ke]),footer:B(()=>[r(h,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:n[9]||(n[9]=i=>g.value=!1)}),r(h,{type:"submit",label:"Save",onClick:z})]),default:B(()=>[e("template",De,[e("div",ze,[Fe,r(N,{id:"currentZone",placeholder:"Select zone",modelValue:l(A).value,"onUpdate:modelValue":n[0]||(n[0]=i=>l(A).value=i),options:l(S),optionLabel:"name",optionValue:"value",onChange:n[1]||(n[1]=i=>F(i,"zone"))},null,8,["modelValue","options"])]),e("div",Be,[Ue,r(N,{id:"currentBlock",placeholder:"Select block",modelValue:l(D).value,"onUpdate:modelValue":n[2]||(n[2]=i=>l(D).value=i),options:l(k),optionLabel:"name",optionValue:"value",onChange:n[3]||(n[3]=i=>F(i,"block"))},null,8,["modelValue","options"])]),e("div",Ce,[Se,r(s,{id:"desc",modelValue:l(C),"onUpdate:modelValue":n[4]||(n[4]=i=>v(C)?C.value=i:null)},null,8,["modelValue"])]),e("div",Te,[e("div",Ne,[Ie,r(a,{id:"numberOfHighArea",modelValue:l(f),"onUpdate:modelValue":n[5]||(n[5]=i=>v(f)?f.value=i:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",He,[Ze,r(a,{id:"publicArea",modelValue:l(V),"onUpdate:modelValue":n[6]||(n[6]=i=>v(V)?V.value=i:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",Ee,[e("div",Oe,[Le,r(a,{id:"totalArea",modelValue:l($),"onUpdate:modelValue":n[7]||(n[7]=i=>v($)?$.value=i:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",je,[Pe,r(a,{id:"progress",modelValue:l(y),"onUpdate:modelValue":n[8]||(n[8]=i=>v(y)?y.value=i:null),prefix:"%",mode:"decimal",min:0,max:100},null,8,["modelValue"])])])])]),_:1},8,["visible"])}}},Me=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Floor Details")],-1),Re={class:"flex flex-col gap-3"},Ye={class:"flex flex-col gap-2"},Ge=e("label",{for:"currentZone"},"Zone",-1),Xe={class:"flex flex-col gap-2"},qe=e("label",{for:"currentBlock"},"Block",-1),Je={class:"flex flex-1 flex-col gap-2"},Ke=e("label",{for:"desc"},"Name",-1),Qe={class:"flex gap-3"},We={class:"flex flex-1 flex-col gap-2"},el=e("label",{for:"numberOfHighArea"},"Number of High Area",-1),ll={class:"flex flex-1 flex-col gap-2"},ol=e("label",{for:"publicArea"},"Public Area",-1),al={class:"flex gap-3"},tl={class:"flex flex-1 flex-col gap-2"},sl=e("label",{for:"totalArea"},"Total Area",-1),nl={class:"flex flex-1 flex-col gap-2"},il=e("label",{for:"progress"},"Progress",-1),ul={class:"flex flex-row gap-3 justify-between"},rl={class:"text-xs text-gray-400"},dl={class:"text-xs text-gray-400"},Al={__name:"EditFloorDialog",props:["visible"],async setup(L){var E,O,d,o,n,N;let _,p;const{visible:j}=L,{zones:x}=H(Y()),{getZones:U}=Y(),{blocks:b}=H(G()),{getBlocks:I}=G(),{currentFloor:c}=H(X()),{editFloor:w}=X(),g=se();[_,p]=R(()=>U()),await _,p(),[_,p]=R(()=>I()),await _,p();const f=t(j),V=t(c.value.number_of_high_area),$=t(c.value.public_area),y=t(c.value.total_area),C=t(c.value.progress),S=t(c.value.desc),A=t(c.value.created_at),k=t(c.value.updated_at);x.value=x.value.map(s=>({id:s.id,name:`${s.name}`,value:`${s.id}`}));const D=t(x.value),z=t({name:((E=D.value[0])==null?void 0:E.name)??"",value:((O=D.value[0])==null?void 0:O.value)??""});b.value=b.value.map(s=>({id:s.id,name:`${s.desc}`,value:`${s.id}`,zone_id:`${s.zone_id}`}));const F=t(b.value.filter(s=>s.zone_id==z.value.value)),T=t({name:((o=(d=F.value.filter(s=>s.zone_id==z.value.value))==null?void 0:d[0])==null?void 0:o.name)??"",value:((N=(n=F.value.filter(s=>s.zone_id==z.value.value))==null?void 0:n[0])==null?void 0:N.value)??""}),P=async()=>{const s={...c.value,block_id:parseInt(T.value.value),number_of_high_area:parseInt(V.value),public_area:parseInt($.value),total_area:parseInt(y.value),progress:parseInt(C.value),desc:S.value,updated_at:new Date().toLocaleString()},a=await w(s);f.value=!1,a!=null&&a.result=="ok"?g.add({severity:"success",summary:"Success",detail:"Edit Floor Successfully!",group:"bl",life:3e3}):g.add({severity:"danger",summary:"Error",detail:"Failed to Edit Floor",group:"bl",life:3e3})},Z=(s,a)=>{var h,u,i,q;a=="zone"&&(F.value=b.value.filter(M=>M.zone_id==s.value),T.value={name:((u=(h=F.value.filter(M=>M.zone_id==z.value.value))==null?void 0:h[0])==null?void 0:u.name)??"",value:((q=(i=F.value.filter(M=>M.zone_id==z.value.value))==null?void 0:i[0])==null?void 0:q.value)??""})};return(s,a)=>{const h=oe,u=ae,i=te,q=Q,M=W;return ee(),le(M,{visible:l(f),"onUpdate:visible":a[10]||(a[10]=m=>v(f)?f.value=m:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:B(()=>[Me]),footer:B(()=>[r(q,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:a[9]||(a[9]=m=>f.value=!1)}),r(q,{type:"submit",label:"Save",onClick:P})]),default:B(()=>[e("template",Re,[e("div",Ye,[Ge,r(h,{id:"currentZone",placeholder:"Select zone",modelValue:l(z).value,"onUpdate:modelValue":a[0]||(a[0]=m=>l(z).value=m),options:l(D),optionLabel:"name",optionValue:"value",onChange:a[1]||(a[1]=m=>Z(m,"zone"))},null,8,["modelValue","options"])]),e("div",Xe,[qe,r(h,{id:"currentBlock",placeholder:"Select block",modelValue:l(T).value,"onUpdate:modelValue":a[2]||(a[2]=m=>l(T).value=m),options:l(F),optionLabel:"name",optionValue:"value",onChange:a[3]||(a[3]=m=>Z(m,"block"))},null,8,["modelValue","options"])]),e("div",Je,[Ke,r(u,{id:"desc",modelValue:l(S),"onUpdate:modelValue":a[4]||(a[4]=m=>v(S)?S.value=m:null)},null,8,["modelValue"])]),e("div",Qe,[e("div",We,[el,r(i,{id:"numberOfHighArea",modelValue:l(V),"onUpdate:modelValue":a[5]||(a[5]=m=>v(V)?V.value=m:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",ll,[ol,r(i,{id:"publicArea",modelValue:l($),"onUpdate:modelValue":a[6]||(a[6]=m=>v($)?$.value=m:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",al,[e("div",tl,[sl,r(i,{id:"totalArea",modelValue:l(y),"onUpdate:modelValue":a[7]||(a[7]=m=>v(y)?y.value=m:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",nl,[il,r(i,{id:"progress",modelValue:l(C),"onUpdate:modelValue":a[8]||(a[8]=m=>v(C)?C.value=m:null),prefix:"%",mode:"decimal",min:0,max:100},null,8,["modelValue"])])]),e("div",ul,[e("span",rl," Created at: "+J(("convertDateTime"in s?s.convertDateTime:l(K))(l(A))),1),e("span",dl," Updated at: "+J(("convertDateTime"in s?s.convertDateTime:l(K))(l(k))),1)])])]),_:1},8,["visible"])}}},cl=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Delete Floor?")],-1),ml=e("span",null,"You cannot undo this action!",-1),kl={__name:"DeleteFloorDialog",props:["visible"],setup(L){const{visible:_}=L,{currentFloor:p}=H(X()),{deleteFloor:j}=X(),x=se(),U=t(_),b=async()=>{const I=await j(p.value);U.value=!1,I!=null&&I.result=="ok"?x.add({severity:"success",summary:"Success",detail:"Delete Floor Successfully!",group:"bl",life:3e3}):x.add({severity:"danger",summary:"Error",detail:"Failed to Delete Floor",group:"bl",life:3e3})};return(I,c)=>{const w=Q,g=W;return ee(),le(g,{visible:l(U),"onUpdate:visible":c[1]||(c[1]=f=>v(U)?U.value=f:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:B(()=>[cl]),footer:B(()=>[r(w,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:c[0]||(c[0]=f=>U.value=!1)}),r(w,{type:"submit",label:"Yes, delete",severity:"danger",onClick:b})]),default:B(()=>[e("div",null,[e("span",null,[ne(" This will delete floor "),e("b",null,J(l(p).desc),1),ne(" permanently! ")]),ml])]),_:1},8,["visible"])}}};export{hl as _,wl as a,Al as b,kl as c};
