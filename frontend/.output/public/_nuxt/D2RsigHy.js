import ee from"./DZPVy99e.js";import te from"./Ba6EhFot.js";import oe from"./DAf1BoBp.js";import ie from"./C0LKiM39.js";import se from"./BaAof-tj.js";import le from"./UEL7mprB.js";import ae from"./CLsrxzl_.js";import ne from"./BLcYRZFp.js";import re from"./C_s4Wp9o.js";import{u as S,_ as ce,a as ue,b as me,c as pe}from"./CyLc_rGn.js";import{s as F,f as T,r,j as fe,c as de,a as l,b as o,h as e,w as a,g as c,l as u,k as _e,i as ve,F as ge,m as be,o as n,t as z,d as ye,n as xe}from"./DaYTUSRu.js";import{u as B}from"./WSTKsw6M.js";import{c as Ne}from"./CBeCEV4t.js";import"./BvNob-ru.js";import"./EMNlt2xj.js";import"./Bk9-WN6G.js";import"./DCxbjcdO.js";import"./DqBT-TTB.js";import"./Bb0lkvXH.js";import"./5i5_fOun.js";import"./Mzrc14y1.js";import"./0r4j8XCi.js";import"./DgsDTnHf.js";import"./o9EcI8hj.js";import"./Dg-YmKK3.js";import"./CSkJlOoF.js";import"./BPlO_Ngp.js";import"./ChVfpdSc.js";import"./gKftSCzs.js";import"./BtBcd3ax.js";import"./DY1heZt9.js";import"./D3jY3syq.js";import"./D7MR76jZ.js";import"./Df8bolTu.js";import"./B-OnyGn2.js";import"./kMJDPyUJ.js";import"./DKBZx1RX.js";import"./DgNzPO1Y.js";import"./Dw3xtoWV.js";import"./DzPs5bSl.js";const he={class:"w-full h-full flex flex-col"},we={class:"fixed right-0 top-0 z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center"},De={class:"flex items-center gap-2"},ke=l("span",{class:"font-semibold text-lg"},"Notifications",-1),Ve={class:"flex items-center gap-2"},je={class:"fixed right-0 top-[8%] z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center"},Ce={class:"flex items-center gap-2"},$e=l("label",{for:"currentProject",class:"font-semibold text-lg"},"Current Project: ",-1),Pe={class:"absolute top-[16%] w-full h-[92%]"},Ie=l("div",{class:"flex justify-center items-center"},[l("span",null,"No Notifications Found.")],-1),Se={class:"flex items-center gap-3"},Nt={__name:"index",async setup(Fe){var $,P;let p,f;const{notifications:C,currentNotification:N}=F(S()),{getNotifications:A}=S(),{projects:Te,projectsDropdown:h}=F(B()),{getProjects:O}=B();[p,f]=T(()=>A()),await p,f(),[p,f]=T(()=>O()),await p,f();const d=r({});d.value=JSON.parse(localStorage.getItem("user"))??{};const w=d.value.type=="admin"||d.value.type=="super_admin"||d.value.type=="sale_manager",D=r({name:(($=h.value[0])==null?void 0:$.name)??"",value:((P=h.value[0])==null?void 0:P.value)??""}),k=fe(()=>C.value.filter(i=>i.project_id==D.value.value)),V=r([{name:"Info",value:"info"}]),m=r({global:{value:null,matchMode:xe.CONTAINS}}),_=r(!1),v=r(!1),g=r(!1),b=r(!1),E=i=>{k.value=C.value.filter(s=>s.project_id==i.value)},M=async i=>{N.value=i,_.value=!_.value},U=async i=>{N.value=i,g.value=!g.value},R=async i=>{N.value=i,b.value=!b.value};return(i,s)=>{const H=ee,y=te,J=oe,L=ie,q=se,x=le,G=ae,j=ne,K=re,Q=ce,W=ue,X=me,Y=pe,Z=be("auto-animate");return n(),de(ge,null,[l("div",he,[l("div",we,[l("div",De,[ke,o(H,{value:e(k).length},null,8,["value"])]),l("div",Ve,[o(q,{iconPosition:"left"},{default:a(()=>[o(J,{class:"flex items-center"},{default:a(()=>[o(y,{name:"mdi:filter-outline"})]),_:1}),o(L,{modelValue:e(m).global.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e(m).global.value=t),placeholder:"Filter Notification..."},null,8,["modelValue"])]),_:1}),e(w)?(n(),c(x,{key:0,size:"small",label:"New",onClick:s[1]||(s[1]=t=>v.value=!e(v))})):u("",!0)])]),l("div",je,[l("div",Ce,[$e,o(G,{id:"currentProject",placeholder:"Select Project",modelValue:e(D).value,"onUpdate:modelValue":s[2]||(s[2]=t=>e(D).value=t),options:e(h),optionLabel:"name",optionValue:"value",onChange:s[3]||(s[3]=t=>E(t))},null,8,["modelValue","options"])])]),l("div",Pe,[_e((n(),c(K,{value:e(k),filters:e(m),"onUpdate:filters":s[4]||(s[4]=t=>ve(m)?m.value=t:null),paginator:!0,rows:50,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"flex",removableSort:""},{empty:a(()=>[Ie]),default:a(()=>[o(j,{field:"title",header:"Title"},{body:a(({data:t})=>[l("div",Se,z(t.title),1)]),_:1}),o(j,{field:"status",header:"Status"},{body:a(({data:t})=>[ye(z(("capitalize"in i?i.capitalize:e(Ne))(t.status)),1)]),_:1}),o(j,{header:"Actions"},{body:a(({data:t})=>[o(x,{text:"",severity:"secondary",onClick:I=>M(t)},{default:a(()=>[o(y,{name:"mdi:eye-outline"})]),_:2},1032,["onClick"]),e(w)?(n(),c(x,{key:0,text:"",severity:"secondary",onClick:I=>U(t)},{default:a(()=>[o(y,{name:"mdi:edit-outline"})]),_:2},1032,["onClick"])):u("",!0),e(w)?(n(),c(x,{key:1,text:"",severity:"danger",onClick:I=>R(t)},{default:a(()=>[o(y,{name:"mdi:delete-outline"})]),_:2},1032,["onClick"])):u("",!0)]),_:1})]),_:1},8,["value","filters"])),[[Z]])])]),e(_)?(n(),c(Q,{key:0,visible:e(_),statuses:e(V)},null,8,["visible","statuses"])):u("",!0),e(v)?(n(),c(W,{key:1,visible:e(v),statuses:e(V)},null,8,["visible","statuses"])):u("",!0),e(g)?(n(),c(X,{key:2,visible:e(g),statuses:e(V)},null,8,["visible","statuses"])):u("",!0),e(b)?(n(),c(Y,{key:3,visible:e(b)},null,8,["visible"])):u("",!0)],64)}}};export{Nt as default};
