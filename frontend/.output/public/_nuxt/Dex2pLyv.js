import Q from"./CLsrxzl_.js";import W from"./C0LKiM39.js";import ee from"./ChVfpdSc.js";import le from"./4Y6kiXd_.js";import oe from"./7IT8UGJm.js";import R from"./UEL7mprB.js";import Y from"./Dw3xtoWV.js";import{s as Z,r as a,o as G,g as X,w as $,b as n,a as e,h as o,i as r,t as M,u as te,d as ae}from"./DaYTUSRu.js";import{u as se}from"./zX31c0Ks.js";import{u as j}from"./8wGpG1ui.js";import{g as ne,a as P}from"./CBeCEV4t.js";const de=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Block Details")],-1),ie={class:"flex flex-col gap-3"},ue={class:"flex flex-1 flex-col gap-2"},re=e("label",{for:"zone"},"Zone",-1),ce={class:"flex flex-1 flex-col gap-2"},pe=e("label",{for:"desc"},"Name",-1),me={class:"flex gap-3"},ve={class:"flex flex-1 flex-col gap-2"},fe=e("label",{for:"lat"},"Latitude",-1),_e={class:"flex flex-1 flex-col gap-2"},xe=e("label",{for:"long"},"Longitude",-1),be={class:"flex flex-1 flex-col gap-2"},ge=e("label",{for:"type"},"Type",-1),ye={class:"flex flex-1 flex-col gap-2"},Ve=e("label",{for:"numberOfFloor"},"Number of floor",-1),$e={class:"flex gap-3"},De={class:"flex flex-1 flex-col gap-2"},we=e("label",{for:"progress"},"Progress",-1),he={class:"flex flex-1 flex-col gap-2"},ke=e("label",{for:"startedDay"},"Started Day",-1),Se={class:"flex flex-1 flex-col gap-2 items-end"},Ue=e("label",{for:"isService"},"Is Service",-1),Be={class:"flex flex-row gap-3 justify-between"},Ie={class:"text-xs text-gray-400"},Te={class:"text-xs text-gray-400"},El={__name:"ViewDetailsBlockDialog",props:["visible","types"],setup(h){var F,L,U,B,I,T,d,N,O,k;const{visible:z,types:D}=h,{zones:p}=Z(se()),{blocks:c,currentBlock:u}=Z(j());p.value=p.value.map(s=>({id:s.id,name:`${s.name}`,value:`${s.id}`}));const y=a(z),m=a({name:(L=(F=p.value.filter(s=>s.id==u.value.zone_id))==null?void 0:F[0])==null?void 0:L.name,value:((B=(U=p.value.filter(s=>s.id==u.value.zone_id))==null?void 0:U[0])==null?void 0:B.value)??((T=(I=p.value.filter(s=>s.id==u.value.zone_id))==null?void 0:I[0])==null?void 0:T.id)}),v=a(u.value.number_of_floor),f=a(u.value.lat),x=a(u.value.long),_=a(u.value.is_service=="true"),b=a(u.value.desc),w=a({name:(N=(d=D.filter(s=>s.value==u.value.type))==null?void 0:d[0])==null?void 0:N.name,value:(k=(O=D.filter(s=>s.value==u.value.type))==null?void 0:O[0])==null?void 0:k.value}),V=a(u.value.progress),g=a(ne(u.value.started_day)),S=a(u.value.created_at),E=a(u.value.updated_at);return(s,l)=>{const C=Q,A=W,i=ee,q=le,J=oe,H=R,K=Y;return G(),X(K,{visible:o(y),"onUpdate:visible":l[10]||(l[10]=t=>r(y)?y.value=t:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:$(()=>[de]),footer:$(()=>[n(H,{type:"button",label:"Close",onClick:l[9]||(l[9]=t=>y.value=!1)})]),default:$(()=>[e("template",ie,[e("div",ue,[re,n(C,{id:"zone",placeholder:"Select Zone",modelValue:o(m).value,"onUpdate:modelValue":l[0]||(l[0]=t=>o(m).value=t),options:o(p),optionLabel:"name",optionValue:"value",disabled:""},null,8,["modelValue","options"])]),e("div",ce,[pe,n(A,{id:"desc",modelValue:o(b),"onUpdate:modelValue":l[1]||(l[1]=t=>r(b)?b.value=t:null),disabled:""},null,8,["modelValue"])]),e("div",me,[e("div",ve,[fe,n(i,{id:"lat",modelValue:o(f),"onUpdate:modelValue":l[2]||(l[2]=t=>r(f)?f.value=t:null),disabled:""},null,8,["modelValue"])]),e("div",_e,[xe,n(i,{id:"long",modelValue:o(x),"onUpdate:modelValue":l[3]||(l[3]=t=>r(x)?x.value=t:null),disabled:""},null,8,["modelValue"])])]),e("div",be,[ge,n(C,{id:"type",placeholder:"Select Type",modelValue:o(w).value,"onUpdate:modelValue":l[4]||(l[4]=t=>o(w).value=t),options:h.types,optionLabel:"name",optionValue:"value",disabled:""},null,8,["modelValue","options"])]),e("div",ye,[Ve,n(i,{id:"numberOfFloor",modelValue:o(v),"onUpdate:modelValue":l[5]||(l[5]=t=>r(v)?v.value=t:null),disabled:""},null,8,["modelValue"])]),e("div",$e,[e("div",De,[we,n(i,{id:"progress",modelValue:o(V),"onUpdate:modelValue":l[6]||(l[6]=t=>r(V)?V.value=t:null),mode:"decimal",prefix:"%",disabled:""},null,8,["modelValue"])]),e("div",he,[ke,n(q,{modelValue:o(g),"onUpdate:modelValue":l[7]||(l[7]=t=>r(g)?g.value=t:null),showIcon:"",iconDisplay:"input",disabled:""},null,8,["modelValue"])])]),e("div",Se,[Ue,n(J,{id:"isService",modelValue:o(_),"onUpdate:modelValue":l[8]||(l[8]=t=>r(_)?_.value=t:null),disabled:""},null,8,["modelValue"])]),e("div",Be,[e("span",Ie," Created at: "+M(("convertDateTime"in s?s.convertDateTime:o(P))(o(S))),1),e("span",Te," Updated at: "+M(("convertDateTime"in s?s.convertDateTime:o(P))(o(E))),1)])])]),_:1},8,["visible"])}}},Ne=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Create New Block")],-1),Ce={class:"flex flex-col gap-3"},ze={class:"flex flex-1 flex-col gap-2"},Fe=e("label",{for:"zone"},"Zone",-1),Le={class:"flex flex-1 flex-col gap-2"},Oe=e("label",{for:"desc"},"Name",-1),Ee={class:"flex gap-3"},Ze={class:"flex flex-1 flex-col gap-2"},je=e("label",{for:"lat"},"Latitude",-1),Ae={class:"flex flex-1 flex-col gap-2"},Me=e("label",{for:"long"},"Longitude",-1),He={class:"flex flex-1 flex-col gap-2"},Pe=e("label",{for:"type"},"Type",-1),Re={class:"flex flex-1 flex-col gap-2"},Ye=e("label",{for:"numberOfFloor"},"Number Of Floor",-1),Ge={class:"flex gap-3"},Xe={class:"flex flex-1 flex-col gap-2"},qe=e("label",{for:"progress"},"Progress",-1),Je={class:"flex flex-1 flex-col gap-2"},Ke=e("label",{for:"startedDay"},"Started Day",-1),Qe={class:"flex flex-1 flex-col gap-2 items-end"},We=e("label",{for:"isService"},"Is Service",-1),Zl={__name:"CreateBlockDialog",props:["visible","types"],setup(h){var E,F,L,U,B,I;const{visible:z,types:D}=h,{zones:p}=Z(se()),{addNewBlock:c}=j(),u=a(z),y=te(),m=a({name:((E=p.value[0])==null?void 0:E.name)??"",value:((F=p.value[0])==null?void 0:F.value)??""}),v=a(0),f=a(0),x=a(0),_=a(!1),b=a(""),w=a({name:((U=(L=D.value)==null?void 0:L[0])==null?void 0:U.name)??"",value:((I=(B=D.value)==null?void 0:B[0])==null?void 0:I.value)??""}),V=a(0),g=a(""),S=async()=>{const T={id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,zone_id:parseInt(m.value.value),number_of_floor:parseInt(v.value),lat:parseInt(f.value),long:parseInt(x.value),is_service:_.value==1?"true":"false",desc:b.value,type:w.value.value,progress:parseInt(V.value),started_day:g.value,deleted:"false",created_by:46,updated_by:46,created_at:new Date().toLocaleString(),updated_at:null},d=await c(T);u.value=!1,d!=null&&d.result=="ok"?y.add({severity:"success",summary:"Success",detail:"Create New Block Successfully!",group:"bl",life:3e3}):y.add({severity:"danger",summary:"Error",detail:"Failed to Create New Block",group:"bl",life:3e3})};return(T,d)=>{const N=Q,O=W,k=ee,s=le,l=oe,C=R,A=Y;return G(),X(A,{visible:o(u),"onUpdate:visible":d[10]||(d[10]=i=>r(u)?u.value=i:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:$(()=>[Ne]),footer:$(()=>[n(C,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:d[9]||(d[9]=i=>u.value=!1)}),n(C,{type:"submit",label:"Save",onClick:S})]),default:$(()=>[e("template",Ce,[e("div",ze,[Fe,n(N,{id:"zone",placeholder:"Select Zone",modelValue:o(m).value,"onUpdate:modelValue":d[0]||(d[0]=i=>o(m).value=i),options:o(p),optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])]),e("div",Le,[Oe,n(O,{id:"desc",placeholder:"Name",modelValue:o(b),"onUpdate:modelValue":d[1]||(d[1]=i=>r(b)?b.value=i:null),modelModifiers:{trim:!0}},null,8,["modelValue"])]),e("div",Ee,[e("div",Ze,[je,n(k,{id:"lat",mode:"decimal",modelValue:o(f),"onUpdate:modelValue":d[2]||(d[2]=i=>r(f)?f.value=i:null)},null,8,["modelValue"])]),e("div",Ae,[Me,n(k,{id:"long",mode:"decimal",modelValue:o(x),"onUpdate:modelValue":d[3]||(d[3]=i=>r(x)?x.value=i:null)},null,8,["modelValue"])])]),e("div",He,[Pe,n(N,{id:"type",placeholder:"Select Type",modelValue:o(w).value,"onUpdate:modelValue":d[4]||(d[4]=i=>o(w).value=i),options:h.types,optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])]),e("div",Re,[Ye,n(k,{id:"numberOfFloor",mode:"decimal",modelValue:o(v),"onUpdate:modelValue":d[5]||(d[5]=i=>r(v)?v.value=i:null),min:0},null,8,["modelValue"])]),e("div",Ge,[e("div",Xe,[qe,n(k,{id:"progress",modelValue:o(V),"onUpdate:modelValue":d[6]||(d[6]=i=>r(V)?V.value=i:null),mode:"decimal",prefix:"%",min:0,max:100},null,8,["modelValue"])]),e("div",Je,[Ke,n(s,{modelValue:o(g),"onUpdate:modelValue":d[7]||(d[7]=i=>r(g)?g.value=i:null),showIcon:"",iconDisplay:"input"},null,8,["modelValue"])])]),e("div",Qe,[We,n(l,{id:"isService",modelValue:o(_),"onUpdate:modelValue":d[8]||(d[8]=i=>r(_)?_.value=i:null)},null,8,["modelValue"])])])]),_:1},8,["visible"])}}},el=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Block Details")],-1),ll={class:"flex flex-col gap-3"},ol={class:"flex flex-1 flex-col gap-2"},tl=e("label",{for:"zone"},"Zone",-1),sl={class:"flex flex-1 flex-col gap-2"},al=e("label",{for:"desc"},"Name",-1),nl={class:"flex gap-3"},dl={class:"flex flex-1 flex-col gap-2"},il=e("label",{for:"lat"},"Latitude",-1),ul={class:"flex flex-1 flex-col gap-2"},rl=e("label",{for:"long"},"Longitude",-1),cl={class:"flex flex-1 flex-col gap-2"},pl=e("label",{for:"type"},"Type",-1),ml={class:"flex flex-1 flex-col gap-2"},vl=e("label",{for:"numberOfFloor"},"Number of Floor",-1),fl={class:"flex gap-3"},_l={class:"flex flex-1 flex-col gap-2"},xl=e("label",{for:"progress"},"Progress",-1),bl={class:"flex flex-1 flex-col gap-2"},gl=e("label",{for:"startedDay"},"Started Day",-1),yl={class:"flex flex-1 flex-col gap-2 items-end"},Vl=e("label",{for:"isService"},"Is Service",-1),$l={class:"flex flex-row gap-3 justify-between"},Dl={class:"text-xs text-gray-400"},wl={class:"text-xs text-gray-400"},jl={__name:"EditBlockDialog",props:["visible","types"],setup(h){var U,B,I,T,d,N,O,k;const{visible:z,types:D}=h,{zones:p}=Z(se()),{currentBlock:c}=Z(j()),{editBlock:u}=j(),y=te(),m=a(z),v=a({name:(B=(U=p.value.filter(s=>s.id==c.value.zone_id))==null?void 0:U[0])==null?void 0:B.name,value:(T=(I=p.value.filter(s=>s.id==c.value.zone_id))==null?void 0:I[0])==null?void 0:T.value}),f=a(c.value.number_of_floor),x=a(c.value.lat),_=a(c.value.long),b=a(c.value.is_service=="true"),w=a(c.value.desc),V=a({name:(N=(d=D.filter(s=>s.value==c.value.type))==null?void 0:d[0])==null?void 0:N.name,value:(k=(O=D.filter(s=>s.value==c.value.type))==null?void 0:O[0])==null?void 0:k.value}),g=a(c.value.progress),S=a(ne(c.value.started_day)),E=a(c.value.created_at),F=a(c.value.updated_at),L=async()=>{const s={...c.value,zone_id:parseInt(zone.value.value),number_of_floor:parseInt(f.value),lat:parseInt(x.value),long:parseInt(_.value),is_service:b.value==1,desc:w.value,type:V.value.value,progress:parseInt(g.value),started_day:S.value,updated_at:new Date().toLocaleString()},l=await u(s);m.value=!1,l!=null&&l.result=="ok"?y.add({severity:"success",summary:"Success",detail:"Edit New Block Successfully!",group:"bl",life:3e3}):y.add({severity:"danger",summary:"Error",detail:"Failed to Edit New Block",group:"bl",life:3e3})};return(s,l)=>{const C=Q,A=W,i=ee,q=le,J=oe,H=R,K=Y;return G(),X(K,{visible:o(m),"onUpdate:visible":l[10]||(l[10]=t=>r(m)?m.value=t:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:$(()=>[el]),footer:$(()=>[n(H,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:l[9]||(l[9]=t=>m.value=!1)}),n(H,{type:"submit",label:"Save",onClick:L})]),default:$(()=>[e("template",ll,[e("div",ol,[tl,n(C,{id:"zone",placeholder:"Select Zone",modelValue:o(v).value,"onUpdate:modelValue":l[0]||(l[0]=t=>o(v).value=t),options:o(p),optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])]),e("div",sl,[al,n(A,{id:"desc",placeholder:"Name",modelValue:o(w),"onUpdate:modelValue":l[1]||(l[1]=t=>r(w)?w.value=t:null)},null,8,["modelValue"])]),e("div",nl,[e("div",dl,[il,n(i,{id:"lat",mode:"decimal",modelValue:o(x),"onUpdate:modelValue":l[2]||(l[2]=t=>r(x)?x.value=t:null)},null,8,["modelValue"])]),e("div",ul,[rl,n(i,{id:"long",mode:"decimal",modelValue:o(_),"onUpdate:modelValue":l[3]||(l[3]=t=>r(_)?_.value=t:null)},null,8,["modelValue"])])]),e("div",cl,[pl,n(C,{id:"type",placeholder:"Select Type",modelValue:o(V).value,"onUpdate:modelValue":l[4]||(l[4]=t=>o(V).value=t),options:h.types,optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])]),e("div",ml,[vl,n(i,{id:"numberOfFloor",mode:"decimal",modelValue:o(f),"onUpdate:modelValue":l[5]||(l[5]=t=>r(f)?f.value=t:null),min:0},null,8,["modelValue"])]),e("div",fl,[e("div",_l,[xl,n(i,{id:"progress",modelValue:o(g),"onUpdate:modelValue":l[6]||(l[6]=t=>r(g)?g.value=t:null),mode:"decimal",prefix:"%",min:0,max:100},null,8,["modelValue"])]),e("div",bl,[gl,n(q,{modelValue:o(S),"onUpdate:modelValue":l[7]||(l[7]=t=>r(S)?S.value=t:null),showIcon:"",iconDisplay:"input"},null,8,["modelValue"])])]),e("div",yl,[Vl,n(J,{id:"isService",modelValue:o(b),"onUpdate:modelValue":l[8]||(l[8]=t=>r(b)?b.value=t:null)},null,8,["modelValue"])]),e("div",$l,[e("span",Dl," Created at: "+M(("convertDateTime"in s?s.convertDateTime:o(P))(o(E))),1),e("span",wl," Updated at: "+M(("convertDateTime"in s?s.convertDateTime:o(P))(o(F))),1)])])]),_:1},8,["visible"])}}},hl=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Delete Block?")],-1),kl=e("span",null,"You cannot undo this action!",-1),Al={__name:"DeleteBlockDialog",props:["visible"],setup(h){const{visible:z}=h,{currentBlock:D}=Z(j()),{deleteBlock:p}=j(),c=te(),u=a(z),y=async()=>{const m=await p(D.value);u.value=!1,m!=null&&m.result=="ok"?c.add({severity:"success",summary:"Success",detail:"Delete Block Successfully!",group:"bl",life:3e3}):c.add({severity:"danger",summary:"Error",detail:"Failed to Delete Block",group:"bl",life:3e3})};return(m,v)=>{const f=R,x=Y;return G(),X(x,{visible:o(u),"onUpdate:visible":v[1]||(v[1]=_=>r(u)?u.value=_:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:$(()=>[hl]),footer:$(()=>[n(f,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:v[0]||(v[0]=_=>u.value=!1)}),n(f,{type:"submit",label:"Yes, delete",severity:"danger",onClick:y})]),default:$(()=>[e("div",null,[e("span",null,[ae(" This will delete block "),e("b",null,M(o(D).desc),1),ae(" permanently! ")]),kl])]),_:1},8,["visible"])}}};export{El as _,Zl as a,jl as b,Al as c};
