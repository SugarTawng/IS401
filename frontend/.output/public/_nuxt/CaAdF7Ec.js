import ae from"./DZPVy99e.js";import ie from"./Ba6EhFot.js";import de from"./DAf1BoBp.js";import R from"./C0LKiM39.js";import re from"./BaAof-tj.js";import E from"./UEL7mprB.js";import ue from"./BLcYRZFp.js";import ce from"./BCpVkSJa.js";import me from"./CCanKzlm.js";import pe from"./C_s4Wp9o.js";import G from"./ChVfpdSc.js";import K from"./4Y6kiXd_.js";import X from"./DgNzPO1Y.js";import H from"./Dw3xtoWV.js";import{s as P,r as a,o as Z,g as C,w as r,b as o,a as e,h as l,i,t as S,u as q,d as M,f as J,c as fe,k as _e,l as F,F as ve,m as xe,n as be}from"./DaYTUSRu.js";import{u as N}from"./zX31c0Ks.js";import{a as L}from"./CBeCEV4t.js";import{u as Y}from"./WSTKsw6M.js";import"./BvNob-ru.js";import"./EMNlt2xj.js";import"./Bk9-WN6G.js";import"./DCxbjcdO.js";import"./DqBT-TTB.js";import"./DgsDTnHf.js";import"./o9EcI8hj.js";import"./CSkJlOoF.js";import"./BPlO_Ngp.js";import"./CLsrxzl_.js";import"./Bb0lkvXH.js";import"./5i5_fOun.js";import"./Mzrc14y1.js";import"./0r4j8XCi.js";import"./Dg-YmKK3.js";import"./DY1heZt9.js";import"./D3jY3syq.js";import"./D7MR76jZ.js";import"./Df8bolTu.js";import"./B-OnyGn2.js";import"./kMJDPyUJ.js";import"./DKBZx1RX.js";import"./gKftSCzs.js";import"./BtBcd3ax.js";import"./CoidgJd5.js";import"./DnSxLO3K.js";import"./DzPs5bSl.js";const ge=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Zone Details")],-1),Ve={class:"flex flex-col gap-3"},ye={class:"flex gap-3"},$e={class:"flex flex-1 flex-col gap-2"},De=e("label",{for:"id"},"ID",-1),we={class:"flex flex-1 flex-col gap-2"},he=e("label",{for:"project_id"},"Project ID",-1),ke={class:"flex"},Ue={class:"flex flex-1 flex-col gap-2"},Ze=e("label",{for:"name"},"Name",-1),Ce={class:"flex gap-3"},Ie={class:"flex flex-1 flex-col gap-2"},Ae=e("label",{for:"constructionArea"},"Construction Area",-1),Ne={class:"flex flex-1 flex-col gap-2"},Te=e("label",{for:"totalArea"},"Total Area",-1),Oe={class:"flex gap-3"},je={class:"flex flex-1 flex-col gap-2"},Be=e("label",{for:"numberOfBlock"},"Number Of Block",-1),Se={class:"flex flex-1 flex-col gap-2"},ze=e("label",{for:"numberOfUnitLand"},"Number Of Unit Land",-1),Pe={class:"flex gap-3"},Le={class:"flex flex-1 flex-col gap-2"},Ee=e("label",{for:"progress"},"Progress",-1),Fe={class:"flex flex-1 flex-col gap-2"},Me=e("label",{for:"startedDay"},"Started Day",-1),Re={class:"flex gap-3"},He={class:"flex flex-1 flex-col gap-2"},Ye=e("label",{for:"desc"},"Description",-1),Ge={class:"flex flex-row gap-3 justify-between"},Ke={class:"text-xs text-gray-400"},Xe={class:"text-xs text-gray-400"},qe={__name:"ViewDetailsZoneDialog",props:["visible"],setup(I){const{visible:U}=I,{currentZone:m}=P(N()),u=a(U),h=a(m.value.id),g=a(m.value.project_id),f=a(m.value.name),_=a(m.value.desc),d=a(m.value.construction_area),v=a(m.value.total_area),V=a(m.value.number_of_block),p=a(m.value.number_of_unit_land),b=a(m.value.progress),y=a(m.value.started_day),$=a(m.value.created_at),T=a(m.value.updated_at);return(k,t)=>{const x=R,s=G,O=K,D=X,A=E,j=H;return Z(),C(j,{visible:l(u),"onUpdate:visible":t[10]||(t[10]=n=>i(u)?u.value=n:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:r(()=>[ge]),footer:r(()=>[o(A,{type:"button",label:"Close",onClick:t[9]||(t[9]=n=>u.value=!1)})]),default:r(()=>[e("template",Ve,[e("div",ye,[e("div",$e,[De,o(x,{id:"id",modelValue:l(h),"onUpdate:modelValue":t[0]||(t[0]=n=>i(h)?h.value=n:null),disabled:""},null,8,["modelValue"])]),e("div",we,[he,o(x,{id:"project_id",modelValue:l(g),"onUpdate:modelValue":t[1]||(t[1]=n=>i(g)?g.value=n:null),disabled:""},null,8,["modelValue"])])]),e("div",ke,[e("div",Ue,[Ze,o(x,{id:"name",modelValue:l(f),"onUpdate:modelValue":t[2]||(t[2]=n=>i(f)?f.value=n:null),disabled:""},null,8,["modelValue"])])]),e("div",Ce,[e("div",Ie,[Ae,o(s,{id:"constructionArea",modelValue:l(d),"onUpdate:modelValue":t[3]||(t[3]=n=>i(d)?d.value=n:null),mode:"decimal",disabled:""},null,8,["modelValue"])]),e("div",Ne,[Te,o(s,{id:"totalArea",modelValue:l(v),"onUpdate:modelValue":t[4]||(t[4]=n=>i(v)?v.value=n:null),mode:"decimal",disabled:""},null,8,["modelValue"])])]),e("div",Oe,[e("div",je,[Be,o(s,{id:"numberOfBlock",modelValue:l(V),"onUpdate:modelValue":t[5]||(t[5]=n=>i(V)?V.value=n:null),mode:"decimal",disabled:""},null,8,["modelValue"])]),e("div",Se,[ze,o(s,{id:"numberOfUnitLand",modelValue:l(p),"onUpdate:modelValue":t[6]||(t[6]=n=>i(p)?p.value=n:null),mode:"decimal",disabled:""},null,8,["modelValue"])])]),e("div",Pe,[e("div",Le,[Ee,o(s,{id:"progress",modelValue:l(b),"onUpdate:modelValue":t[7]||(t[7]=n=>i(b)?b.value=n:null),mode:"decimal",prefix:"%",disabled:""},null,8,["modelValue"])]),e("div",Fe,[Me,o(O,{"v-model":("convertDateTime"in k?k.convertDateTime:l(L))(l(y)),showIcon:"",iconDisplay:"input",disabled:""},null,8,["v-model"])])]),e("div",Re,[e("div",He,[Ye,o(D,{id:"desc",modelValue:l(_),"onUpdate:modelValue":t[8]||(t[8]=n=>i(_)?_.value=n:null),autoResize:"",rows:"5",cols:"30",disabled:""},null,8,["modelValue"])])]),e("div",Ge,[e("span",Ke," Created at: "+S(("convertDateTime"in k?k.convertDateTime:l(L))(l($))),1),e("span",Xe," Updated at: "+S(("convertDateTime"in k?k.convertDateTime:l(L))(l(T))),1)])])]),_:1},8,["visible"])}}},Je=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Create New Zone")],-1),Qe={class:"flex flex-col gap-3"},We={class:"flex flex-1 flex-col gap-2"},el=e("label",{for:"zoneName"},"Zone Name",-1),ll={class:"flex flex-row gap-3"},ol={class:"flex flex-1 flex-col gap-2"},tl=e("label",{for:"totalArea"},"Total Area",-1),sl={class:"flex flex-1 flex-col gap-2"},nl=e("label",{for:"constructionArea"},"Construction Area",-1),al={class:"flex flex-row gap-3"},il={class:"flex flex-1 flex-col gap-2"},dl=e("label",{for:"numberOfBlock"},"Number Of Block",-1),rl={class:"flex flex-1 flex-col gap-2"},ul=e("label",{for:"numberOfUnitLand"},"Number Of Unit Land",-1),cl={class:"flex flex-col gap-3"},ml={class:"flex flex-1 flex-col gap-2"},pl=e("label",{for:"startedDay"},"Started Day",-1),fl={class:"flex flex-1 flex-col gap-2"},_l=e("label",{for:"progress"},"Progress",-1),vl={class:"flex flex-1 flex-col gap-2"},xl=e("label",{for:"desc"},"Description",-1),bl={__name:"CreateZoneDialog",props:["visible","allProjectIDs"],setup(I){const{visible:U,allProjectIDs:m}=I,{currentProjectID:u}=P(Y()),{addNewZone:h}=N(),g=q(),f=a(U),_=a(""),d=a(""),v=a(0),V=a(0),p=a(0),b=a(0),y=a(0),$=a(),T=async()=>{const k={id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,project_id:parseInt(u.value),name:_.value,desc:d.value,construction_area:parseInt(v.value),total_area:parseInt(V.value),number_of_block:parseInt(p.value),number_of_unit_land:parseInt(b.value),progress:parseInt(y.value),started_day:$.value,deleted:"false",created_by:1,updated_by:null,created_at:new Date().toLocaleString(),updated_at:null},t=await h(k);f.value=!1,t!=null&&t.result=="ok"?g.add({severity:"success",summary:"Success",detail:"Create New Zone Successfully!",group:"bl",life:3e3}):g.add({severity:"danger",summary:"Error",detail:"Failed to Create New Zone",group:"bl",life:3e3})};return(k,t)=>{const x=R,s=G,O=K,D=X,A=E,j=H;return Z(),C(j,{visible:l(f),"onUpdate:visible":t[9]||(t[9]=n=>i(f)?f.value=n:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:r(()=>[Je]),footer:r(()=>[o(A,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:t[8]||(t[8]=n=>f.value=!1)}),o(A,{type:"submit",label:"Save",onClick:T})]),default:r(()=>[e("template",Qe,[e("div",We,[el,o(x,{id:"zoneName",placeholder:"Zone name",modelValue:l(_),"onUpdate:modelValue":t[0]||(t[0]=n=>i(_)?_.value=n:null)},null,8,["modelValue"])]),e("div",ll,[e("div",ol,[tl,o(s,{id:"totalArea",modelValue:l(V),"onUpdate:modelValue":t[1]||(t[1]=n=>i(V)?V.value=n:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",sl,[nl,o(s,{id:"constructionArea",modelValue:l(v),"onUpdate:modelValue":t[2]||(t[2]=n=>i(v)?v.value=n:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",al,[e("div",il,[dl,o(s,{id:"numberOfBlock",modelValue:l(p),"onUpdate:modelValue":t[3]||(t[3]=n=>i(p)?p.value=n:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",rl,[ul,o(s,{id:"numberOfUnitLand",modelValue:l(b),"onUpdate:modelValue":t[4]||(t[4]=n=>i(b)?b.value=n:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",cl,[e("div",ml,[pl,o(O,{modelValue:l($),"onUpdate:modelValue":t[5]||(t[5]=n=>i($)?$.value=n:null),showIcon:"",iconDisplay:"input"},null,8,["modelValue"])]),e("div",fl,[_l,o(s,{id:"progress",modelValue:l(y),"onUpdate:modelValue":t[6]||(t[6]=n=>i(y)?y.value=n:null),mode:"decimal",prefix:"%",min:0,max:100},null,8,["modelValue"])]),e("div",vl,[xl,o(D,{id:"description",modelValue:l(d),"onUpdate:modelValue":t[7]||(t[7]=n=>i(d)?d.value=n:null),placeholder:"Description",autoResize:"",rows:"5",cols:"30"},null,8,["modelValue"])])])])]),_:1},8,["visible"])}}},gl=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Zone Details")],-1),Vl={class:"flex flex-col gap-3"},yl={class:"flex flex-1 flex-col gap-2"},$l=e("label",{for:"zoneName"},"Zone name",-1),Dl={class:"flex flex-row gap-3"},wl={class:"flex flex-1 flex-col gap-2"},hl=e("label",{for:"totalArea"},"Total Area",-1),kl={class:"flex flex-1 flex-col gap-2"},Ul=e("label",{for:"constructionArea"},"Construction Area",-1),Zl={class:"flex flex-row gap-3"},Cl={class:"flex flex-1 flex-col gap-2"},Il=e("label",{for:"numberOfBlock"},"Number Of Block",-1),Al={class:"flex flex-1 flex-col gap-2"},Nl=e("label",{for:"numberOfUnitLand"},"Number Of Unit Land",-1),Tl={class:"flex flex-col gap-3"},Ol={class:"flex flex-1 flex-col gap-2"},jl=e("label",{for:"startedDay"},"Started Day",-1),Bl={class:"flex flex-1 flex-col gap-2"},Sl=e("label",{for:"progress"},"Progress",-1),zl={class:"flex flex-1 flex-col gap-2"},Pl=e("label",{for:"desc"},"Description",-1),Ll={class:"flex flex-row gap-3 justify-between"},El={class:"text-xs text-gray-400"},Fl={class:"text-xs text-gray-400"},Ml={__name:"EditZoneDialog",props:["visible","allProjectIDs"],setup(I){const{visible:U,allProjectIDs:m}=I,{currentZone:u}=P(N()),{editZone:h}=N(),g=q(),f=a(U),_=a(u.value.name),d=a(u.value.desc),v=a(u.value.construction_area),V=a(u.value.total_area),p=a(u.value.number_of_block),b=a(u.value.number_of_unit_land),y=a(u.value.progress),$=a(u.value.started_day),T=a(u.value.created_at),k=a(u.value.updated_at),t=async()=>{const x={...u.value,name:_.value,desc:d.value,construction_area:parseInt(v.value),total_area:V.value,number_of_block:p.value,number_of_unit_land:b.value,progress:y.value,started_day:$.value,updated_at:new Date().toLocaleString()},s=await h(x);f.value=!1,s!=null&&s.result=="ok"?g.add({severity:"success",summary:"Success",detail:"Edit New Zone Successfully!",group:"bl",life:3e3}):g.add({severity:"danger",summary:"Error",detail:"Failed to Edit New Zone",group:"bl",life:3e3})};return(x,s)=>{const O=R,D=G,A=K,j=X,n=E,B=H;return Z(),C(B,{visible:l(f),"onUpdate:visible":s[9]||(s[9]=c=>i(f)?f.value=c:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:r(()=>[gl]),footer:r(()=>[o(n,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:s[8]||(s[8]=c=>f.value=!1)}),o(n,{type:"submit",label:"Save",onClick:t})]),default:r(()=>[e("template",Vl,[e("div",yl,[$l,o(O,{id:"zoneName",placeholder:"Zone name",modelValue:l(_),"onUpdate:modelValue":s[0]||(s[0]=c=>i(_)?_.value=c:null)},null,8,["modelValue"])]),e("div",Dl,[e("div",wl,[hl,o(D,{id:"totalArea",modelValue:l(V),"onUpdate:modelValue":s[1]||(s[1]=c=>i(V)?V.value=c:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",kl,[Ul,o(D,{id:"constructionArea",modelValue:l(v),"onUpdate:modelValue":s[2]||(s[2]=c=>i(v)?v.value=c:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",Zl,[e("div",Cl,[Il,o(D,{id:"numberOfBlock",modelValue:l(p),"onUpdate:modelValue":s[3]||(s[3]=c=>i(p)?p.value=c:null),mode:"decimal",min:0},null,8,["modelValue"])]),e("div",Al,[Nl,o(D,{id:"numberOfUnitLand",modelValue:l(b),"onUpdate:modelValue":s[4]||(s[4]=c=>i(b)?b.value=c:null),mode:"decimal",min:0},null,8,["modelValue"])])]),e("div",Tl,[e("div",Ol,[jl,o(A,{modelValue:l($),"onUpdate:modelValue":s[5]||(s[5]=c=>i($)?$.value=c:null),showIcon:"",iconDisplay:"input"},null,8,["modelValue"])]),e("div",Bl,[Sl,o(D,{id:"progress",modelValue:l(y),"onUpdate:modelValue":s[6]||(s[6]=c=>i(y)?y.value=c:null),mode:"decimal",prefix:"%",min:0,max:100},null,8,["modelValue"])]),e("div",zl,[Pl,o(j,{id:"description",modelValue:l(d),"onUpdate:modelValue":s[7]||(s[7]=c=>i(d)?d.value=c:null),placeholder:"Description",autoResize:"",rows:"5",cols:"30"},null,8,["modelValue"])]),e("div",Ll,[e("span",El," Created at: "+S(("convertDateTime"in x?x.convertDateTime:l(L))(l(T))),1),e("span",Fl," Updated at: "+S(("convertDateTime"in x?x.convertDateTime:l(L))(l(k))),1)])])])]),_:1},8,["visible"])}}},Rl=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Delete Zone?")],-1),Hl=e("span",null,"You cannot undo this action!",-1),Yl={__name:"DeleteZoneDialog",props:["visible"],setup(I){const{visible:U}=I,{currentZone:m}=P(N()),{deleteZone:u}=N(),h=q(),g=a(U),f=async()=>{const _=await u(m.value);g.value=!1,_!=null&&_.result=="ok"?h.add({severity:"success",summary:"Success",detail:"Delete Zone Successfully!",group:"bl",life:3e3}):h.add({severity:"danger",summary:"Error",detail:"Failed to Delete Zone",group:"bl",life:3e3})};return(_,d)=>{const v=E,V=H;return Z(),C(V,{visible:l(g),"onUpdate:visible":d[1]||(d[1]=p=>i(g)?g.value=p:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:r(()=>[Rl]),footer:r(()=>[o(v,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:d[0]||(d[0]=p=>g.value=!1)}),o(v,{type:"submit",label:"Yes, delete",severity:"danger",onClick:f})]),default:r(()=>[e("div",null,[e("span",null,[M(" This will delete zone "),e("b",null,S(l(m).name),1),M(" permanently! ")]),Hl])]),_:1},8,["visible"])}}},Gl={class:"w-full h-full flex flex-col"},Kl={class:"fixed right-0 top-0 z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center"},Xl={class:"flex items-center gap-2"},ql=e("span",{class:"font-semibold text-lg"},"Zone",-1),Jl={class:"flex items-center gap-2"},Ql={class:"absolute top-[8%] w-full h-[92%]"},Wl=e("div",{class:"flex justify-center items-center"},[e("span",null,"No zone found.")],-1),Yo={__name:"index",async setup(I){let U,m;const{zones:u,currentZone:h}=P(N()),{getZones:g}=N(),{allProjectIDs:f}=P(Y()),{getProjects:_}=Y();[U,m]=J(()=>g()),await U,m(),[U,m]=J(()=>_()),await U,m();const d=a({global:{value:null,matchMode:be.CONTAINS}}),v=a(),V=a([{label:"Move to Block",command:()=>{}},{label:"Move to Land Area",command:()=>{}}]),p=a(!1),b=a(!1),y=a(!1),$=a(!1),T=async x=>{h.value=x,p.value=!p.value},k=async x=>{h.value=x,y.value=!y.value},t=async x=>{h.value=x,$.value=!$.value};return(x,s)=>{const O=ae,D=ie,A=de,j=R,n=re,B=E,c=ue,Q=ce,W=me,ee=pe,le=qe,oe=bl,te=Ml,se=Yl,ne=xe("auto-animate");return Z(),fe(ve,null,[e("div",Gl,[e("div",Kl,[e("div",Xl,[ql,o(O,{value:l(u).length},null,8,["value"])]),e("div",Jl,[o(n,{iconPosition:"left"},{default:r(()=>[o(A,{class:"flex items-center"},{default:r(()=>[o(D,{name:"mdi:filter-outline"})]),_:1}),o(j,{modelValue:l(d).global.value,"onUpdate:modelValue":s[0]||(s[0]=w=>l(d).global.value=w),placeholder:"Filter zone..."},null,8,["modelValue"])]),_:1}),o(B,{size:"small",label:"New",onClick:s[1]||(s[1]=w=>b.value=!l(b))})])]),e("div",Ql,[_e((Z(),C(ee,{value:l(u),filters:l(d),"onUpdate:filters":s[3]||(s[3]=w=>i(d)?d.value=w:null),paginator:!0,rows:50,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"flex",removableSort:""},{empty:r(()=>[Wl]),default:r(()=>[o(c,{field:"name",header:"Name"},{body:r(({data:w})=>[M(S(w.name),1)]),_:1}),o(c,{field:"desc",header:"Description"},{body:r(({data:w})=>[M(S(w.desc),1)]),_:1}),o(c,{field:"progress",header:"Progress",sortable:""},{body:r(({data:w})=>[o(Q,{modelValue:w.progress,"onUpdate:modelValue":z=>w.progress=z,readonly:"",size:50},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(c,{header:"Actions"},{body:r(({data:w})=>[o(B,{text:"",severity:"secondary",onClick:z=>T(w)},{default:r(()=>[o(D,{name:"mdi:eye-outline"})]),_:2},1032,["onClick"]),o(B,{text:"",severity:"secondary",onClick:z=>k(w)},{default:r(()=>[o(D,{name:"mdi:edit-outline"})]),_:2},1032,["onClick"]),o(B,{text:"",severity:"danger",onClick:z=>t(w)},{default:r(()=>[o(D,{name:"mdi:delete-outline"})]),_:2},1032,["onClick"]),o(B,{text:"",severity:"secondary",onClick:s[2]||(s[2]=z=>l(v).toggle(z))},{default:r(()=>[o(D,{name:"mdi:more-vert"})]),_:1}),o(W,{ref_key:"menu",ref:v,model:l(V),popup:!0},null,8,["model"])]),_:1})]),_:1},8,["value","filters"])),[[ne]])])]),l(p)?(Z(),C(le,{key:0,visible:l(p)},null,8,["visible"])):F("",!0),l(b)?(Z(),C(oe,{key:1,visible:l(b),allProjectIDs:l(f)},null,8,["visible","allProjectIDs"])):F("",!0),l(y)?(Z(),C(te,{key:2,visible:l(y)},null,8,["visible"])):F("",!0),l($)?(Z(),C(se,{key:3,visible:l($)},null,8,["visible"])):F("",!0)],64)}}};export{Yo as default};
