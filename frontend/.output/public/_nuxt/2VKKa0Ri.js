import A from"./ChVfpdSc.js";import U from"./CLsrxzl_.js";import C from"./UEL7mprB.js";import O from"./Dw3xtoWV.js";import{q as j,r as u,v as H,x as T,s as D,u as I,o as M,g as N,w as v,b as m,a as e,h as i,i as y}from"./DaYTUSRu.js";import{u as E}from"./kVCPm6zo.js";import{u as B}from"./BlfiYsX3.js";import{u as F}from"./DzPs5bSl.js";const V=j("HighPaymentProcess",()=>{const _=u([]),h=u({}),b=async()=>{const n=H("token"),{data:o}=await F(T+"/auth/highPaymentProcess",{headers:{"Content-Type":"application/json",access_token:n.value}},"$fc9mivNZCz");_.value=o.value.data};return{highPaymentProcesses:_,currentHighPaymentProcess:h,getHighPaymentProcesses:b,addNewHighPaymentProcess:async n=>{const o=H("token"),t=await $fetch(T+"/auth/highPaymentProcess",{method:"post",headers:{"Content-Type":"application/json",access_token:o.value},body:n});return await b(),t},editHighPaymentProcess:async n=>{const o=H("token"),t=await $fetch(T+`/auth/highPaymentProcess/${n.id}`,{method:"put",headers:{"Content-Type":"application/json",access_token:o.value},body:n});return await b(),t},deleteHighPaymentProcess:async n=>{const o=H("token");let t="";try{t=await $fetch(T+`/auth/highPaymentProcess/${n.id}`,{method:"delete",headers:{"Content-Type":"application/json",access_token:o.value}})}catch(r){t={...r}}return await b(),t}}}),L=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Create New Payment")],-1),z={class:"flex flex-col gap-3"},R={class:"flex gap-3"},Y={class:"flex flex-1 flex-col gap-2"},q=e("label",{for:"paymentTime"},"Payment Time",-1),G={class:"flex flex-1 flex-col gap-2"},X=e("label",{for:"amountOfMoney"},"Amount Of Money",-1),Z={class:"flex gap-3"},J={class:"flex flex-1 flex-col gap-2"},K=e("label",{for:"amountOfDebt"},"Amount Of Debt",-1),Q={class:"flex flex-1 flex-col gap-2"},W=e("label",{for:"submitter"},"Submitter",-1),xe={__name:"CreateHighPaymentProcessDialog",props:["visible","statuses"],setup(_){const{visible:h,statuses:b}=_,{customersDropdown:g}=D(E()),{currentHighAreaIDFromLocalStore:P}=D(B()),{addNewHighPaymentProcess:l}=V(),n=I(),o=u(h),t=u(0),r=u(0),d=u(0),p=u({});u("");const x=async()=>{const $={id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,high_area_id:parseInt(P.value),payment_time:parseInt(t.value),amount_of_money:parseInt(r.value),amount_of_debt:parseInt(d.value),submitter:parseInt(p.value.value),status:"",created_by:13,updated_by:13,created_at:new Date().toLocaleString(),updated_at:null},s=await l($);o.value=!1,s!=null&&s.result=="ok"?n.add({severity:"success",summary:"Success",detail:"Create New Payment Successfully!",group:"bl",life:3e3}):n.add({severity:"danger",summary:"Error",detail:"Failed to Create New Payment",group:"bl",life:3e3})};return($,s)=>{const a=A,w=U,k=C,S=O;return M(),N(S,{visible:i(o),"onUpdate:visible":s[5]||(s[5]=c=>y(o)?o.value=c:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:v(()=>[L]),footer:v(()=>[m(k,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:s[4]||(s[4]=c=>o.value=!1)}),m(k,{type:"submit",label:"Save",onClick:x})]),default:v(()=>[e("template",z,[e("div",R,[e("div",Y,[q,m(a,{id:"paymentTime",placeholder:"Payment Time",mode:"decimal",modelValue:i(t),"onUpdate:modelValue":s[0]||(s[0]=c=>y(t)?t.value=c:null),min:0},null,8,["modelValue"])]),e("div",G,[X,m(a,{id:"amountOfMoney",placeholder:"Amount Of Money",mode:"decimal",modelValue:i(r),"onUpdate:modelValue":s[1]||(s[1]=c=>y(r)?r.value=c:null),min:0},null,8,["modelValue"])])]),e("div",Z,[e("div",J,[K,m(a,{id:"amountOfDebt",placeholder:"Amount Of Debt",mode:"decimal",modelValue:i(d),"onUpdate:modelValue":s[2]||(s[2]=c=>y(d)?d.value=c:null),min:0},null,8,["modelValue"])]),e("div",Q,[W,m(w,{id:"submitter",placeholder:"Select Submitter",modelValue:i(p).value,"onUpdate:modelValue":s[3]||(s[3]=c=>i(p).value=c),options:i(g),optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])])])])]),_:1},8,["visible"])}}},ee=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Payment Details")],-1),te={class:"flex flex-col gap-3"},se={class:"flex gap-3"},oe={class:"flex flex-1 flex-col gap-2"},ae=e("label",{for:"paymentTime"},"Payment Time",-1),le={class:"flex flex-1 flex-col gap-2"},ne=e("label",{for:"amountOfMoney"},"Amount Of Money",-1),ie={class:"flex gap-3"},ue={class:"flex flex-1 flex-col gap-2"},re=e("label",{for:"amountOfDebt"},"Amount Of Debt",-1),me={class:"flex flex-1 flex-col gap-2"},ce=e("label",{for:"submitter"},"Submitter",-1),we={__name:"EditHighPaymentProcessDialog",props:["visible","statuses"],setup(_){const{visible:h,statuses:b}=_,{customers:g,customersDropdown:P}=D(E()),{currentHighPaymentProcess:l}=D(V()),{editHighPaymentProcess:n}=V(),o=I(),t=u(h),r=u(l.value.payment_time),d=u(l.value.amount_of_money),p=u(l.value.amount_of_debt),x=u({name:g.value.filter(s=>s.id==l.value.submitter)[0].display_name,value:`${g.value.filter(s=>s.id==l.value.submitter)[0].id}`});u(l.value.status);const $=async()=>{const s={...l.value,payment_time:parseInt(r.value),amount_of_money:parseInt(d.value),amount_of_debt:parseInt(p.value),submitter:parseInt(x.value.value),status:"",updated_at:new Date().toLocaleString()},a=await n(s);t.value=!1,a!=null&&a.result=="ok"?o.add({severity:"success",summary:"Success",detail:"Edit Payment Successfully!",group:"bl",life:3e3}):o.add({severity:"danger",summary:"Error",detail:"Failed to Edit Payment",group:"bl",life:3e3})};return(s,a)=>{const w=A,k=U,S=C,c=O;return M(),N(c,{visible:i(t),"onUpdate:visible":a[5]||(a[5]=f=>y(t)?t.value=f:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:v(()=>[ee]),footer:v(()=>[m(S,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:a[4]||(a[4]=f=>t.value=!1)}),m(S,{type:"submit",label:"Save",onClick:$})]),default:v(()=>[e("template",te,[e("div",se,[e("div",oe,[ae,m(w,{id:"paymentTime",placeholder:"Payment Time",mode:"decimal",modelValue:i(r),"onUpdate:modelValue":a[0]||(a[0]=f=>y(r)?r.value=f:null),min:0},null,8,["modelValue"])]),e("div",le,[ne,m(w,{id:"amountOfMoney",placeholder:"Amount Of Money",mode:"decimal",modelValue:i(d),"onUpdate:modelValue":a[1]||(a[1]=f=>y(d)?d.value=f:null),min:0},null,8,["modelValue"])])]),e("div",ie,[e("div",ue,[re,m(w,{id:"amountOfDebt",placeholder:"Amount Of Debt",mode:"decimal",modelValue:i(p),"onUpdate:modelValue":a[2]||(a[2]=f=>y(p)?p.value=f:null),min:0},null,8,["modelValue"])]),e("div",me,[ce,m(k,{id:"submitter",placeholder:"Select Submitter",modelValue:i(x).value,"onUpdate:modelValue":a[3]||(a[3]=f=>i(x).value=f),options:i(P),optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"])])])])]),_:1},8,["visible"])}}},de=e("div",{class:"inline-flex items-center justify-center gap-2"},[e("span",{class:"font-bold text-xl"},"Delete Payment?")],-1),pe=e("div",null,[e("span",null," This will delete this payment permanently! "),e("span",null,"You cannot undo this action!")],-1),De={__name:"DeleteHighPaymentProcessDialog",props:["visible"],setup(_){const{visible:h}=_,{currentHighPaymentProcess:b}=D(V()),{deleteHighPaymentProcess:g}=V(),P=I(),l=u(h),n=async()=>{const o=await g(b.value);l.value=!1,o!=null&&o.result=="ok"?P.add({severity:"success",summary:"Success",detail:"Delete Payment Successfully!",group:"bl",life:3e3}):P.add({severity:"danger",summary:"Error",detail:"Failed to Delete Payment",group:"bl",life:3e3})};return(o,t)=>{const r=C,d=O;return M(),N(d,{visible:i(l),"onUpdate:visible":t[1]||(t[1]=p=>y(l)?l.value=p:null),modal:"",maximizable:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:v(()=>[de]),footer:v(()=>[m(r,{type:"button",label:"Cancel",text:"",severity:"secondary",onClick:t[0]||(t[0]=p=>l.value=!1)}),m(r,{type:"submit",label:"Yes, delete",severity:"danger",onClick:n})]),default:v(()=>[pe]),_:1},8,["visible"])}}};export{xe as _,we as a,De as b,V as u};
